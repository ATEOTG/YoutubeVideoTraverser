# Youtube Video Transript Search
This chrome browser extension allows you to search for keywords in a video (as long as it has a transcript available) and get timestamps and text that contain that keyword! It allows you to then navigate the video based on the relevant keywords you entered.
No longer are the days of skimming for minutes on a 4 hour podcast to see a topic you're interested in being discussed. 

## Screenshot
![SR](https://github.com/ATEOTG/YoutubeVideoTraverser/assets/25332391/fa240a40-2d9f-4e71-8451-7c0c1de8d5ea)

## What I learned
I learned a lot, especially since this was my first ever browser extension project!
- Building a browser extension is a whole new experience. Traditionally when you build sites you make and define every element, you know the structure of your application. Because browser extensions build on top of a site, you have to learn how the application is structured and the custom elements defined in the site. This Provided an interesting challenge when developing this extension.
  - I encountered a bug where when I attempted to grab an element with the id "panels" but there was an issue where sometimes I would grab the element and do the appropriate operations and sometimes it did not work. After looking at the HTML of the site and a few console logs, I became aware that there were two elements with the same id! This is usually something you do not see and I was unaware of this due to the fact that I did not structure the application.
  - I encountered another bug where I wanted the app.js script to listen after a url has been changed, and if it's a youtube video url, run a particular function. Usually you would use the popstate event listener to listen to active history changes. This wasn't working because of how Youtube navigation works and instead I had to rely on Youtube's own event for video navigation and found that if you listen to the "yt-page-data-updated" event, it will always detect when you navigate to a different url within the Youtube site.
  - Segment container bug
- I learned about the Mutation Oberver API. This API allows you to watch for changes in the DOM and based on those changes invoke a callback function.
  - This API was particularly helpful in solving the problem of getting the transcipt button to click it and then load the panel that comes with clicking the transcript button. Initially I tried to use the 'DOMContentLoaded' so that it triggers once the page is ready and then click the transcript button to generate the transcript data. However because Youtube is a SPA it only triggers once the HTML document has been parsed, not on navigation. I then tried to set a timer via the setTimeout function once you navigate to a page so that it waits 1 second before attempting to grab the transcript button. This worked fairly well on fast connections, but with slower connections it didn't work. I tried to increase the timer but then the user with fast connections will experience an unnecessary delay. Ultimately I discovered the Mutation Oberver API to listen to the body, and once we get the transcript button, we stop observing changes in the DOM. Alternatively, if there's no transcript button found after 20 observations (callback function called 20 times) we stop observing the document body. This solved the issue of not only clicking the transcript button if it exists, but also removing any unnecessary delays. 
