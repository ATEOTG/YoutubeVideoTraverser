(()=>{let e;function o(o){console.log("executed!!!");const t=document.querySelector("ytd-app[darker-dark-theme]");if(!o)return void(t.style.border="none");let n=0;new MutationObserver(((o,r)=>{e=document.getElementsByClassName("video-stream")[0],console.log("observer running...."),n+=1;const l=document.querySelector('button[aria-label="Show transcript"]');l&&(t.style.border="10px solid red",console.log("Transcript Button Found"),l.click(),r.disconnect(),setTimeout((()=>{console.log("Transcript Handler running...");let e=0;const o=setInterval((()=>{5===e&&clearInterval(o),console.log("Interval Running...");const t=document.querySelector("#segments-container");if(console.log("Segment_cont: "+t),t){const e=t.childNodes;document.querySelector("#panels").style.display="none",function(e){let o="";for(let t=0;t<e.length;t++)o+="::"+e[t].childNodes[2].ariaLabel.toLowerCase();const t=o.split("::");t.shift(),chrome.storage.local.set({timeStamps:t})}(e),clearInterval(o)}else document.querySelector("#panels").style.display="block";e+=1}),1e3)}),1e3)),n>=100&&(console.log("Exceeded observation limit, disconnecting observer"),t.style.border="none",r.disconnect())})).observe(document.body,{childList:!0,subtree:!0})}chrome.runtime.onMessage.addListener(((t,n,r)=>{const{type:l,isVideoPage:s,value:c}=t;"NEW"===l?o(s):"PLAY"===l&&(e.currentTime=c)})),window.addEventListener("DOMContentLoaded",(()=>{o(window.location.href.includes("youtube.com/watch"))})),window.addEventListener("yt-page-data-updated",(()=>{o(window.location.href.includes("youtube.com/watch"))}))})();