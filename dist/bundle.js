(()=>{let e,t=null,o=[],l=null;chrome.runtime.onMessage.addListener(((s,n,r)=>{const{type:c,value:i}=s;return"NEW"===c&&(console.log("Type: "+c+" Value: "+i),function(s,n){if(console.log("tabId: "+t),null===t){t=s,console.log(t);try{n({res:function(t){chrome.storage.local.set({timeStamps:[]}),e=document.getElementsByClassName("video-stream")[0];const s=document.querySelector('button[aria-label="Show transcript"]');if(s){const e=document.querySelector("div#panels.style-scope.ytd-watch-flexy");return e.style.display="flex",function(e,t){e.click(),new MutationObserver(((e,l)=>{const s=document.querySelector("#segments-container");if(s){const e=s.childNodes;t.style.display="none",l.disconnect(),function(e){let t="";for(let o=0;o<e.length;o++)null===e[o].getAttribute("hidden")&&(t+="::"+e[o].childNodes[2].ariaLabel.toLowerCase());o=t.split("::"),o.shift(),chrome.storage.local.set({timeStamps:o})}(e)}})).observe(t,{childList:!0,subtree:!0})}(s,e),l=!0,l}return l=!1,l}()})}catch(e){n({res:!1})}}else console.log("tabId: "+t+" timeStrampString: "+o),chrome.storage.local.set({timeStamps:o}),console.log("IsTrabscribible: "+l),n({res:l})}(i,r)),"PLAY"===c&&(e.currentTime=i),"TEST"===c&&(console.log("TEST running swimmingly"),r({message:!0})),!0}))})();