(()=>{let e;console.log("injected on to page");let t=null,s=[],o=null;function n(){chrome.storage.local.set({timeStamps:[]}),e=document.getElementsByClassName("video-stream")[0];const t=document.querySelector('button[aria-label="Show transcript"]');if(t){const e=document.querySelector("div#panels.style-scope.ytd-watch-flexy");return e.style.display="flex",function(e,t){e.click(),new MutationObserver(((e,o)=>{const n=document.querySelector("#segments-container");if(n){const e=n.childNodes;t.style.display="none",o.disconnect(),function(e){let t="";for(let s=0;s<e.length;s++)null===e[s].getAttribute("hidden")&&(t+="::"+e[s].childNodes[2].ariaLabel.toLowerCase());s=t.split("::"),s.shift(),chrome.storage.local.set({timeStamps:s})}(e)}})).observe(t,{childList:!0,subtree:!0})}(t,e),o=!0,!0}return o=!1,!1}chrome.runtime.onMessage.addListener(((l,c,r)=>{const{type:i,value:a}=l;return"NEW"===i&&function(e,l){null===t?(t=e,console.log(t),l({res:n()})):t===e?(chrome.storage.local.set({timeStamps:s}),l({res:o})):(t=e,l({res:n()}))}(a,r),"PLAY"===i&&(e.currentTime=a,r({message:"success"})),!0}))})();